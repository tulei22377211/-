#include <iostream>
using namespace std;

#include "func.hpp"

double f(double x) {
    return 1/(x);
}

double f_x(double x) {
    return 0;
}
double f_y(double x) {
    return 0;
}

int main(void) {
    double real = 1.609438;
    double result_B = B(1,5,5);
    double result_G_3 = G_3(1,5);

    cout << fixed;
    cout.precision(8);

  
    cout << "\t\treal_result\tB(f)\t\tG_3(f)" << endl;
    cout << "----------------" << endl;
    cout <<"result\t\t" << real << "\t" << result_B  << "\t" << result_G_3 << endl;
    cout <<"error\t\t"<< 0 << "\t\t" << err(real,result_B)  << "\t" << err(real,result_G_3) << endl;
    cout << "----------------" << endl;

    cout << endl;

    cout << "G_3(f)" << endl;
    cout << "----------------" << endl;
    cout << "M\t\treal\t\tG_3(f)\t\terror" << endl;
    cout << "----------------" << endl;
    cout << 1 << "\t\t" << real << "\t" << G_3(1,5) << "\t" << err(real,G_3(1,5)) << endl;
    cout << 2 << "\t\t" << real << "\t" << G_3(1,3)+G_3(3,5) << "\t" << err(real,G_3(1,3)+G_3(3,5)) << endl;
    cout << 4 << "\t\t" << real << "\t" << G_3(1,2)+G_3(2,3)+G_3(3,4)+G_3(4,5) << "\t" << err(real,G_3(1,2)+G_3(2,3)+G_3(3,4)+G_3(4,5)) << endl;
    cout << 8 << "\t\t" << real << "\t" << G_3(1,1.5)+G_3(1.5,2)+G_3(2,2.5)+G_3(2.5,3)+G_3(3,3.5)+G_3(3.5,4)+G_3(4,4.5)+G_3(4.5,5) << "\t" << err(real,G_3(1,1.5)+G_3(1.5,2)+G_3(2,2.5)+G_3(2.5,3)+G_3(3,3.5)+G_3(3.5,4)+G_3(4,4.5)+G_3(4.5,5)) << endl;
    cout << 16 << "\t\t" << real << "\t" << G_3(1,1.25)+G_3(1.25,1.5)+G_3(1.5,1.75)+G_3(1.75,2)+G_3(2,2.25)+G_3(2.25,2.5)+G_3(2.5,2.75)+G_3(2.75,3)+G_3(3,3.25)+G_3(3.25,3.5)+G_3(3.5,3.75)+G_3(3.75,4)+G_3(4,4.25)+G_3(4.25,4.5)+G_3(4.5,4.75)+G_3(4.75,5) << "\t" << err(real,G_3(1,1.25)+G_3(1.25,1.5)+G_3(1.5,1.75)+G_3(1.75,2)+G_3(2,2.25)+G_3(2.25,2.5)+G_3(2.5,2.75)+G_3(2.75,3)+G_3(3,3.25)+G_3(3.25,3.5)+G_3(3.5,3.75)+G_3(3.75,4)+G_3(4,4.25)+G_3(4.25,4.5)+G_3(4.5,4.75)+G_3(4.75,5)) << endl;
    cout << "----------------" << endl;

    cout << endl;

    cout << "B(f)" << endl;
    cout << "----------------" << endl;
    cout << "M\t\treal\t\tB(f)\t\terror" << endl;
    cout << "----------------" << endl;
    cout << 1 << "\t\t" << real << "\t" << B(1,5,5) << "\t" << err(real,B(1,5,5)) << endl;
    cout << 2 << "\t\t" << real << "\t" << B(1,3,5)+B(3,5,5) << "\t" << err(real,B(1,3,5)+B(3,5,5)) << endl;
    cout << 4 << "\t\t" << real << "\t" << B(1,2,5)+B(2,3,5)+B(3,4,5)+B(4,5,5) << "\t" << err(real,B(1,2,5)+B(2,3,5)+B(3,4,5)+B(4,5,5)) << endl;
    cout << 8 << "\t\t" << real << "\t" << B(1,1.5,5)+B(1.5,2,5)+B(2,2.5,5)+B(2.5,3,5)+B(3,3.5,5)+B(3.5,4,5)+B(4,4.5,5)+B(4.5,5,5) << "\t" << err(real,B(1,1.5,5)+B(1.5,2,5)+B(2,2.5,5)+B(2.5,3,5)+B(3,3.5,5)+B(3.5,4,5)+B(4,4.5,5)+B(4.5,5,5)) << endl;
    cout << 16 << "\t\t" << real << "\t" << B(1,1.25,5)+B(1.25,1.5,5)+B(1.5,1.75,5)+B(1.75,2,5)+B(2,2.25,5)+B(2.25,2.5,5)+B(2.5,2.75,5)+B(2.75,3,5)+B(3,3.25,5)+B(3.25,3.5,5)+B(3.5,3.75,5)+B(3.75,4,5)+B(4,4.25,5)+B(4.25,4.5,5)+B(4.5,4.75,5)+B(4.75,5,5) << "\t" << err(real,B(1,1.25,5)+B(1.25,1.5,5)+B(1.5,1.75,5)+B(1.75,2,5)+B(2,2.25,5)+B(2.25,2.5,5)+B(2.5,2.75,5)+B(2.75,3,5)+B(3,3.25,5)+B(3.25,3.5,5)+B(3.5,3.75,5)+B(3.75,4,5)+B(4,4.25,5)+B(4.25,4.5,5)+B(4.5,4.75,5)+B(4.75,5,5)) << endl;
    cout << "----------------" << endl;
    return 0;
}